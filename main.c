/*
 * sdk_atmega328p.c
 *
 * Created: 2/27/2024 6:31:58 PM
 * Author : EZR
 */ 

#include <avr/io.h>
#include <util/delay.h>
#include "ports.h"
#include "leds.h"
#include "i2c.h"
#include "lcd_i2c.h"

int main(void)
{
   
	init_ports();
	init_i2c();
	lcd_i2c_init();
	//lcd_i2c_write_string("todos reprobados");
	
	unsigned char* nombres[] = {0x54, 0x6F, 0x74, 0x69, 0x2C, 0x20, 0x43, 0x68, 0x61, 0x74, 0x6F, 0x6E, 0x2C, 0x20, 0x4B, 0x69, 0x74, 0x74, 0x79, 0x20, 0x79, 0x20, 0x57, 0x6F, 0x6D, 0x62, 0x61, 0x74, 0x2E};

	unsigned char* nombres2[] = {0x2E, 0x74, 0x61, 0x62, 0x6D, 0x6F, 0x57, 0x20, 0x79, 0x20, 0x79, 0x74, 0x74, 0x69, 0x4B, 0x20, 0x2C, 0x6E, 0x6F, 0x74, 0x61, 0x68, 0x43, 0x20, 0x2C, 0x69, 0x74, 0x6F, 0x54, 0x20};
	
	/*unsigned int* img1[] {
	    0x00,
	    0x11,
	    0x1F,
	    0x15,
	    0x1F,
	    0x0E,
	    0x00,
	    0x00
	};*/

	while (1) {

	lcd_i2c_clr();

	for(int i=0; i<=29; i++){
		for(int j=0; j <= i; j++){
		    lcd_i2c_col_row(i-j, 1);
		    lcd_i2c_data(nombres2[j]);
		    if (i > 16) {
			lcd_i2c_col_row(i-j-16, 2);
			lcd_i2c_data(nombres2[j]);
		    }
		}
		_delay_ms(100);

	}
	_delay_ms(4000);

    }
}
